RF-PRICE-01 â€” Congelar precio/hora del espacio al crear reserva
DescripciÃ³n: Al crear una reserva, se debe guardar en la reserva el precio/hora vigente del espacio y usar ese valor para todos los cÃ¡lculos futuros de esa reserva.
Reglas de negocio:
    Al crear:
        reservation.hourlyRateSnapshot = space.hourlyRate
        reservation.durationMinutes o hours (segÃºn modelo)
        reservation.totalPrice = hourlyRateSnapshot * horas (o minutos/60)
    Si luego el usuario edita la reserva y cambia la duraciÃ³n:
    Se recalcula totalPrice usando hourlyRateSnapshot, no el space.hourlyRate actual.

Criterios de aceptaciÃ³n:
    Si el admin cambia el hourlyRate del space despuÃ©s, reservas existentes no cambian su total por ese motivo.
    Si se modifica solo horario/duraciÃ³n, el total cambia pero con el snapshot.

AclaraciÃ³n: Creo que esto ya estÃ¡ implementado pero no la parte que el administrador pueda cambiar el precio del espacio en las reservas ya creadas. Ejemplo: otorgar una fonificaciÃ³n especial a una reserva ya creada.
Revisar este requerimiento.

âœ… EP-PRICING-01 Â· CERRADO
Estado

âœ”ï¸ Implementado y validado en cÃ³digo
âœ”ï¸ Modelo de datos correcto
âœ”ï¸ Reglas de negocio cumplidas

ğŸ§  DecisiÃ³n de diseÃ±o (registrada)

No se realiza saneamiento de datos histÃ³ricos

No se agrega fallback automÃ¡tico para hourlyRateSnapshot = 0

Se asume:

entorno aÃºn en pruebas

dataset controlado

En el futuro:

el Admin podrÃ¡ editar manualmente el valor de la reserva

se resolverÃ¡n ajustes histÃ³ricos en el requerimiento de ediciÃ³n avanzada

ğŸ‘‰ Esta decisiÃ³n queda documentada y evita complejidad innecesaria ahora.

ğŸ“Œ Implicaciones positivas

No tocamos lÃ³gica estable

No metemos reglas â€œtemporalesâ€ que despuÃ©s hay que desarmar

Mantenemos el pricing predecible y explÃ­cito

Dejamos el ajuste fino para cuando exista una necesidad real